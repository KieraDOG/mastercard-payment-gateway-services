(window["webpackJsonpmastercard-payment-gateway-services"]=window["webpackJsonpmastercard-payment-gateway-services"]||[]).push([[0],{107:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(32),i=r.n(o),s=(r(51),r(52),r(115)),c=r(114),l=r(25),d=r(33),m=r(23),u=r.n(m),y=r(34),p=r(26),f=r(110),b=r(111),g=r(112),h=r(113),E=r(35);function w(){var e=Object(d.a)(["\n  iframe {\n    display: block;\n  }\n"]);return w=function(){return e},e}var v="https://test-gateway.mastercard.com/form/version/52/merchant/TESTJSTAY01/session.js",x=function(e){var t=e.initialized,r=e.formSessionUpdate,a=window.PaymentSession;a&&a.configure({fields:{card:{number:"#card-number",securityCode:"#security-code",expiryMonth:"#expiry-month",expiryYear:"#expiry-year",nameOnCard:"#cardholder-name"}},frameEmbeddingMitigation:["javascript"],callbacks:{initialized:function(e){console.log("Session initialized",e),t(e)},formSessionUpdate:function(e){console.log("Form session update",e),r(e)}}})};function S(){var e=window.PaymentSession;e&&e.updateSessionFromForm("card")}var C=function(){var e=Object(y.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:return e.abrupt("return",new Promise((function(e){var r=document.querySelector('script[src="'.concat(v,'"]'));r&&r.remove();var a=document.createElement("script");a.src=v,a.async=1,a.onload=function(){return x({initialized:e,formSessionUpdate:t})},document.body.appendChild(a)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(E.a)(p.a)(w()),j=function(e){var t=e.onFormSessionUpdated,r=Object(a.useState)(!0),o=Object(l.a)(r,2),i=o[0],s=o[1],c=Object(a.useCallback)((function(e){e.status?"ok"===e.status?(console.log("Session updated with data: "+e.session.id),t(e.session.id),e.sourceOfFunds.provided.card.securityCode&&console.log("Security code was provided."),"MASTERCARD"===e.sourceOfFunds.provided.card.scheme&&console.log("The user entered a Mastercard credit card.")):"fields_in_error"===e.status?(console.log("Session update failed with field errors."),e.errors.cardNumber&&console.log("Card number invalid or missing."),e.errors.expiryYear&&console.log("Expiry year invalid or missing."),e.errors.expiryMonth&&console.log("Expiry month invalid or missing."),e.errors.securityCode&&console.log("Security code invalid.")):"request_timeout"===e.status?console.log("Session update failed with request timeout: "+e.errors.message):"system_error"===e.status&&console.log("Session update failed with system error: "+e.errors.message):console.log("Session update failed: "+e)}),[t]);return Object(a.useEffect)((function(){C(c).then((function(){return s(!1)}))}),[c]),n.a.createElement(O,{width:"300px"},i&&n.a.createElement(f.a,{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",bg:"rgba(0, 0, 0, 0.1)",alignItems:"center"},n.a.createElement(b.a,null)),n.a.createElement(p.a,{my:"2"},"Please enter your payment details:"),n.a.createElement("h3",null,"Credit Card"),n.a.createElement(p.a,{my:"2"},"Card Number:",n.a.createElement(g.a,{type:"text",mb:"0",id:"card-number",title:"card number","aria-label":"enter your card number",readOnly:!0})),n.a.createElement(p.a,{my:"2"},"Expiry Month:",n.a.createElement(g.a,{type:"text",mb:"0",id:"expiry-month",title:"expiry month","aria-label":"two digit expiry month",readOnly:!0})),n.a.createElement(p.a,{my:"2"},"Expiry Year:",n.a.createElement(g.a,{type:"text",mb:"0",id:"expiry-year",title:"expiry year","aria-label":"two digit expiry year",readOnly:!0})),n.a.createElement(p.a,{my:"2"},"Security Code:",n.a.createElement(g.a,{type:"text",mb:"0",id:"security-code",title:"security code","aria-label":"three digit CCV security code",readOnly:!0})),n.a.createElement(p.a,{my:"2"},"Cardholder Name:",n.a.createElement(g.a,{type:"text",mb:"0",id:"cardholder-name",title:"cardholder name","aria-label":"enter name on card",readOnly:!0})),n.a.createElement(p.a,{my:"2"},n.a.createElement(h.a,{variant:"primary",onClick:S},"Pay Now")))},k=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1];return n.a.createElement(p.a,{p:"4"},r&&n.a.createElement(j,{onFormSessionUpdated:alert}),n.a.createElement(h.a,{onClick:function(){return o((function(e){return!e}))}},"Toggle"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(s.a,{theme:c.a},n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},46:function(e,t,r){e.exports=r(107)},51:function(e,t,r){}},[[46,1,2]]]);
//# sourceMappingURL=main.c0c400d6.chunk.js.map